(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{372:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è‡´æ•¬")]),t._v(" "),a("p",[t._v("å­¦ä¹  Java å¹¶å‘ç¼–ç¨‹é¦–å…ˆè¦è®¤è¯†ä¸€ä¸‹ Doug Leaï¼Œåœ¨æºç é˜…è¯»è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°ä¸€ä¸ªä½œè€…çš„åå­— "),a("code",[t._v("@author Doug Lea")]),t._v("ï¼Œä»–ç¼–å†™çš„ java.util.concurrent åŒ…åœ¨ Java 1.5 ç‰ˆæœ¬ä¸­å¼•å…¥ï¼Œä¿ƒè¿›äº† Java çš„åŽ†å²å˜é©ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"è¿›ç¨‹å’Œçº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹å’Œçº¿ç¨‹"}},[t._v("ðŸŽ‹")]),t._v(" è¿›ç¨‹å’Œçº¿ç¨‹")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("è¿›ç¨‹å’Œçº¿ç¨‹ã€å¹¶è¡Œå’Œå¹¶å‘çš„æ¦‚å¿µ")]),t._v(" "),a("p",[t._v("è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼šåœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œè¿›ç¨‹å’Œçº¿ç¨‹æ˜¯ä¸¤ä¸ªåŸºæœ¬çš„æ‰§è¡Œå•å…ƒã€‚è¿›ç¨‹æ˜¯ CPU åˆ†é…èµ„æºçš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯ CPU è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚è¿›ç¨‹äº«æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹çš„èµ„æºã€å†…å­˜å’Œæ‰“å¼€çš„æ–‡ä»¶ï¼Œè¿™æœ‰åˆ©äºŽçº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œä½†æ˜¯å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚çº¿ç¨‹æ˜¯è½»é‡ç‰ˆçš„è¿›ç¨‹ï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹è¦æ¯”åˆ›å»ºä¸€ä¸ªè¿›ç¨‹éœ€è¦æ›´å°‘çš„èµ„æºã€‚èŽ·å¾—èµ„æºçš„çº¿ç¨‹èŽ·å–åˆ°æ—¶é—´ç‰‡åŽå³å¯è¢« CPU è°ƒåº¦æ‰§è¡Œï¼Œçº¿ç¨‹æ‰§è¡Œåˆ™å…¶è¿›ç¨‹å½“ç„¶åœ¨æ‰§è¡Œã€‚")]),t._v(" "),a("p",[t._v("å¹¶å‘å’Œå¹¶è¡Œçš„åŒºåˆ«ï¼šä¸ç®¡æ˜¯å¤šä¸ªå¤„ç†å™¨ï¼ˆå¤š CPU ï¼‰è¿˜æ˜¯å¤šä¸ªæ‰§è¡Œæ ¸å¿ƒï¼ˆå¤šæ ¸ï¼‰ï¼Œéƒ½å¯èƒ½å®žçŽ°ç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œè¿™ä¸»è¦ä¾é æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ã€‚æ¯”å¦‚ä½¿ç”¨æœ€å¹¿çš„æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ï¼Œæ¯ä¸ªçº¿ç¨‹è¢«åˆ†é…ä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œå½“çº¿ç¨‹æ—¶é—´ç‰‡ä½¿ç”¨å®Œæˆ–è€…çº¿ç¨‹åœ¨æ—¶é—´ç‰‡ç»“æŸå‰é˜»å¡žæˆ–æ‰§è¡Œå®Œæ¯•ï¼ŒCPU å°†ä¿å­˜è¯¥çº¿ç¨‹çš„çŠ¶æ€å¹¶åˆ‡æ¢ä¸‹ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚æ—¶é—´ç‰‡å¾€å¾€è®¾ç½®åœ°å¾ˆçŸ­ï¼ˆæ¯«ç§’ï¼‰ï¼Œæ‰€ä»¥åœ¨ä¸€æ®µæ—¶é—´å†…æœ‰å¤šä¸ªçº¿ç¨‹æ‰§è¡Œï¼ˆå¹¶å‘ï¼‰ï¼Œè€Œåœ¨ä¸€ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼ˆå¹¶è¡Œï¼‰ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"çº¿ç¨‹åŸºç¡€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹åŸºç¡€"}},[t._v("ðŸŽ‹")]),t._v(" "),a("a",{attrs:{href:"./thread"}},[t._v("çº¿ç¨‹åŸºç¡€")])]),t._v(" "),a("blockquote",[a("p",[t._v("ä»‹ç» Thread ç±»çš„åŸºæœ¬å±žæ€§å’Œæ–¹æ³•ï¼ŒåŠå¦‚ä½•åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¹¶å¯åŠ¨ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"çº¿ç¨‹å®‰å…¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹å®‰å…¨"}},[t._v("ðŸŽ‹")]),t._v(" çº¿ç¨‹å®‰å…¨")]),t._v(" "),a("p",[t._v("å¦‚æžœä¸€ä¸ªç±»è®¾è®¡æˆå¤šçº¿ç¨‹å¯ä»¥æ­£ç¡®è®¿é—®ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±æ˜¯"),a("strong",[t._v("çº¿ç¨‹å®‰å…¨")]),t._v("çš„ï¼ˆthread - safeï¼‰ï¼Œå¦åˆ™å°±æ˜¯"),a("strong",[t._v("çº¿ç¨‹ä¸å®‰å…¨")]),t._v("çš„ï¼ˆunsafeï¼‰ã€‚")]),t._v(" "),a("p",[t._v("ç”±äºŽä¸€ä¸ªè¿›ç¨‹å†…çš„çº¿ç¨‹å…±äº«è¿›ç¨‹çš„å†…å­˜åœ°å€ç©ºé—´ï¼Œè¿™äº›çº¿ç¨‹éƒ½èƒ½è®¿é—®å…±äº«å˜é‡åŠå¼•ç”¨å¯¹è±¡ã€‚è€Œçº¿ç¨‹ä½œä¸º CPU è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œè¿è¡Œæ—¶å¤šä¸ªçº¿ç¨‹å¯èƒ½ä¼šäº¤æ›¿æ‰§è¡Œï¼Œè¿™æ ·æœ‰å¯èƒ½äº§ç”Ÿ"),a("strong",[t._v("çº¿ç¨‹å¹²æ‰°")]),t._v("å’Œ"),a("strong",[t._v("å†…å­˜ä¸€è‡´æ€§")]),t._v("é”™è¯¯ã€‚")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("çº¿ç¨‹å¹²æ‰°çš„äº§ç”Ÿ")]),t._v(" "),a("p",[t._v("ç¤ºä¾‹ä¸€ä¸ªè®¡æ•°å™¨ï¼Œä¸€ä¸ªçº¿ç¨‹åŠ  100 æ¬¡ï¼Œä¸€ä¸ªçº¿ç¨‹å‡ 100 æ¬¡ï¼Œæœ€åŽç»“æžœå´ä¸ä¸€å®šæ˜¯0ã€‚å› ä¸ºè‡ªå¢žå’Œè‡ªå‡ä¸æ˜¯åŽŸå­æ€§æ“ä½œï¼Œå®ƒä»¬å®žé™…æ‰§è¡Œä¸‰ä¸ªæ­¥éª¤ï¼šå…ˆè¯»å–ï¼Œè¿›è¡ŒåŠ ä¸€/å‡ä¸€ï¼Œå†å†™å…¥ã€‚ç”±äºŽ CPU ä¸ç¡®å®šçš„è°ƒåº¦ï¼Œä¸¤ä¸ªçº¿ç¨‹å¯èƒ½åœ¨è¿™ä¸‰ä¸ªæ­¥éª¤ä¹‹é—´äº¤å‰æ‰§è¡Œï¼Œæ¯”å¦‚ï¼š")]),t._v(" "),a("p",[t._v("1ã€çº¿ç¨‹ 1 è¯»å–ï¼ˆcount = 0ï¼‰")]),t._v(" "),a("p",[t._v("2ã€çº¿ç¨‹ 1 åŠ ä¸€ï¼ˆcount = 1ï¼‰")]),t._v(" "),a("p",[t._v("3ã€çº¿ç¨‹ 2 å¾—åˆ° CPU è°ƒåº¦ï¼Œçº¿ç¨‹ 1 ä¿å­˜ä¸Šä¸‹æ–‡æš‚åœ")]),t._v(" "),a("p",[t._v("4ã€çº¿ç¨‹ 2 è¯»å–ï¼ˆcount = 0ï¼‰")]),t._v(" "),a("p",[t._v("5ã€çº¿ç¨‹ 2 å‡ä¸€ï¼ˆcount = -1ï¼‰")]),t._v(" "),a("p",[t._v("6ã€çº¿ç¨‹ 2 å†™å…¥ï¼ˆcount = -1ï¼‰")]),t._v(" "),a("p",[t._v("7ã€çº¿ç¨‹ 1 å¾—åˆ° CPU è°ƒåº¦ï¼Œçº¿ç¨‹ 2 ä¿å­˜ä¸Šä¸‹æ–‡æš‚åœ")]),t._v(" "),a("p",[t._v("8ã€çº¿ç¨‹ 1 å†™å…¥ï¼ˆcount = 1ï¼‰")]),t._v(" "),a("p",[t._v("ç”±äºŽçº¿ç¨‹ 2 çš„å¹²æ‰°å¯¼è‡´è¿™æ¬¡æ‰§è¡Œç»“æžœæœ¬æ¥åº”è¯¥æ˜¯ 0 ä½†æ˜¯å´æ˜¯ 1ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Main")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Counter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Counter")]),t._v(" counter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Counter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ºæ¼”ç¤ºæ•ˆæžœè®¾ç½®æš‚åœä¸€ä¼š")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main çº¿ç¨‹ç­‰å¾…å¼‚æ­¥çº¿ç¨‹æ‰§è¡Œå®Œ")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br")])])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("å†…å­˜ä¸€è‡´æ€§é”™è¯¯çš„äº§ç”Ÿ")]),t._v(" "),a("p",[t._v("å‡è®¾çº¿ç¨‹ 1 åŠ ä¸€ï¼Œç”± main çº¿ç¨‹è¯»å– count çš„å€¼ï¼Œä½†æ˜¯å› ä¸º CPU çš„è°ƒåº¦ï¼Œmain çº¿ç¨‹å¯èƒ½å…ˆäºŽ çº¿ç¨‹ 1 æ‰§è¡Œè¯»å–ï¼Œå¯¼è‡´å’Œé¢„æƒ³çš„ä¸ä¸€è‡´ï¼Œè¿™å°±äº§ç”Ÿäº†å†…å­˜ä¸€è‡´æ€§é”™è¯¯ã€‚")]),t._v(" "),a("p",[t._v("å¯¼è‡´å†…å­˜ä¸€è‡´æ€§é”™è¯¯çš„åŽŸå› å¾ˆå¤šï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“é¿å…äº§ç”Ÿå†…å­˜ä¸€è‡´æ€§é”™è¯¯çš„å…³é”®æ˜¯äº†è§£"),a("strong",[t._v("happens - before å…³ç³»")]),t._v("ï¼ˆäº‹å‰å‘ç”Ÿï¼‰ï¼Œäº‹å‰å‘ç”Ÿå…³ç³»å°±æ˜¯æŒ‡å…ˆå‘ç”Ÿçš„äº‹ä»¶å¯¹äºŽåŽå‘ç”Ÿçš„äº‹ä»¶æ˜¯å¯è§çš„ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å·²çŸ¥çš„å½“å‰çº¿ç¨‹è°ƒç”¨ "),a("code",[t._v("join()")]),t._v(" æ–¹æ³•æ—¶ï¼Œjoin ä¹‹å‰çš„äº‹ä»¶å’Œå½“å‰çº¿ç¨‹ join ä¸­çš„äº‹ä»¶å°±æž„æˆäº† happens - before å…³ç³»ï¼Œæˆ–è€…è¯´ join ä¸­çš„äº‹ä»¶ "),a("strong",[t._v("happens before")]),t._v(" join ä¹‹å‰çš„äº‹ä»¶ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"åŒæ­¥å’Œé”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŒæ­¥å’Œé”"}},[t._v("ðŸŽ‹")]),t._v(" "),a("a",{attrs:{href:"./lock"}},[t._v("åŒæ­¥å’Œé”")])]),t._v(" "),a("blockquote",[a("p",[t._v("åœ¨ä¸²è¡Œç¼–ç¨‹æ¨¡åž‹ä¸­ï¼Œå•ä¸ªçº¿ç¨‹é¡ºåºæ‰§è¡Œæ˜¯ä¸ä¼šäº§ç”Ÿé”™è¯¯çš„ï¼Œä½†æ˜¯å¤šä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œå¯èƒ½ä¼šå¼•å…¥éžä¸²è¡Œå› ç´ å¯¼è‡´é”™è¯¯ã€‚")]),t._v(" "),a("p",[t._v("å¯¹äºŽå…±äº«å˜é‡ï¼Œåªè¦é€šè¿‡åŒæ­¥è¿›è¡Œåè°ƒï¼Œä¿è¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œè®¿é—®ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹æ‰èƒ½è®¿é—®ï¼Œè¿™æ ·å°±èƒ½é¿å…çº¿ç¨‹å¹²æ‰°ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"cas-aqs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cas-aqs"}},[t._v("ðŸŽ‹")]),t._v(" "),a("a",{attrs:{href:"./CAS-AQS"}},[t._v("CAS & AQS")])]),t._v(" "),a("blockquote"),t._v(" "),a("h3",{attrs:{id:"æ´»è·ƒæ€§é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ´»è·ƒæ€§é—®é¢˜"}},[t._v("ðŸŽ‹")]),t._v(" "),a("a",{attrs:{href:"./liveness"}},[t._v("æ´»è·ƒæ€§é—®é¢˜")])]),t._v(" "),a("blockquote",[a("p",[t._v("å¤šä¸ªçº¿ç¨‹è®¿é—®å…±äº«èµ„æºï¼Œä¼šè¿›è¡Œç«žäº‰èŽ·å–é”ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿæ´»è·ƒæ€§é—®é¢˜ï¼Œæ¯”å¦‚çº¿ç¨‹é¥¥é¥¿ã€æ´»é”ã€æ­»é”ç­‰ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å¯¹è±¡å…±äº«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è±¡å…±äº«"}},[t._v("ðŸŽ‹")]),t._v(" "),a("a",{attrs:{href:"./sharing"}},[t._v("å¯¹è±¡å…±äº«")])]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸æ˜¯æ‰€æœ‰çš„æ“ä½œéƒ½å¿…é¡»è¦åŒæ­¥ï¼Œæœ‰äº›æƒ…å†µä¸‹å¤šçº¿ç¨‹å¯ä»¥å…±äº«è®¿é—®ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"çº¿ç¨‹åè°ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹åè°ƒ"}},[t._v("ðŸŽ‹")]),t._v(" "),a("a",{attrs:{href:"./thread-coordinate"}},[t._v("çº¿ç¨‹åè°ƒ")])]),t._v(" "),a("blockquote",[a("p",[t._v("å½“ä¸¤ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ä¹‹é—´éœ€è¦åˆä½œæ—¶ï¼Œå°±éœ€è¦è¿›è¡Œåè°ƒã€‚æœ€å¸¸è§çš„åè°ƒå°±æ˜¯å®ˆå«å—ï¼Œå³ä¸€ä¸ªçº¿ç¨‹é€šè¿‡è½®è¯¢æŸä¸ªå«æœ‰ç‹¬å å¯¹è±¡çš„æ¡ä»¶ï¼Œä¸æˆç«‹æ—¶å°±é‡Šæ”¾é”ç­‰å¾…ï¼Œå½“æ¡ä»¶æˆç«‹æ—¶é‡æ–°èŽ·å–é”æ‰§è¡Œã€‚å¦‚æžœä¸é‡Šæ”¾é”ï¼Œé‚£ä¹ˆçº¿ç¨‹ä¸€ç›´å æœ‰é”ï¼Œæ¡ä»¶æ°¸è¿œä¸ä¼šæˆç«‹ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"çº¿ç¨‹ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹ç®¡ç†"}},[t._v("ðŸŽ‹")]),t._v(" "),a("a",{attrs:{href:"./thread-manage"}},[t._v("çº¿ç¨‹ç®¡ç†")])]),t._v(" "),a("blockquote",[a("p",[t._v("é€šè¿‡å¯¹ä»»åŠ¡å’Œçº¿ç¨‹æ‰§è¡Œçš„ä¸€æ­¥æ­¥å¸¦å…¥ï¼Œå¼•å‡ºçº¿ç¨‹æ‰§è¡Œå™¨çš„æ¦‚å¿µï¼Œè¿›è€Œå­¦ä¹ çº¿ç¨‹æ± çš„å…·ä½“ç±»åº“ã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("å‚è€ƒæ–‡çŒ®")]),t._v(" "),a("ul",[a("li",[t._v("é¦–å…ˆé€šè¿‡ "),a("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/1252599548343744/1255943750561472",target:"_blank",rel:"noopener noreferrer"}},[t._v("å»–é›ªå³°çš„ Java æ•™ç¨‹"),a("OutboundLink")],1),t._v(" å¯¹ Java å¹¶å‘ç¼–ç¨‹ç±»åº“æœ‰ä¸ªç®€å•è®¤è¯†")]),t._v(" "),a("li",[t._v("ç»“åˆ Oracle å®˜æ–¹ Java æ•™ç¨‹ "),a("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java å¹¶å‘ç« èŠ‚"),a("OutboundLink")],1),t._v(" ä»¥åŠæºç æ³¨é‡Šæ·±å…¥å­¦ä¹  Java å¹¶å‘ç¼–ç¨‹")]),t._v(" "),a("li",[t._v("é€šè¿‡ã€ŠJava å¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‹ï¼ˆJava Concurrency in Practiceï¼‰è¿™æœ¬ä¹¦è¯¦ç»†ç†è§£ä¸€äº›æ¦‚å¿µ")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.oracle.com/javase/specs/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java è¯­è¨€å’Œè™šæ‹Ÿæœºè§„èŒƒ"),a("OutboundLink")],1),t._v(" å®˜æ–¹ä¸‹è½½é“¾æŽ¥")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);